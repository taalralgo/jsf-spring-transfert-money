<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
    <meta name="viewport" content="width=device-width, initial-scale=1" http-equiv="X-UA-Conpatible"/>
    <h:outputStylesheet library="css" name="bootstrap.min.css"/>
    <title>add LOCATION</title>

</h:head>
<f:view>
    <h:form id="createClientForm" styleClass="form-horizontal">
        <div class="row">
            <div class="col-sm-8 offset-sm-2 text-center">
                <div class="form-group">
                    <h2>ADD LOCATION</h2>
                </div>
                <hr/>
            </div>
        </div>
        <!--VEHICULE-->
        <div class="form-group">
            <h:outputLabel for="matricule" styleClass="control-label col-sm-4">Matricule:</h:outputLabel>
            <div class="col-sm-4">
                <h:inputText id="matricule" value="#{locationBean.location.idvehicule.matricule}"
                             styleClass="form-control"
                             required="true" valueChangeListener="#{locationBean.onChange}"
                             validatorMessage="Matricule is required">
                    <f:ajax event="blur" listener="#{locationBean.getVehiculeInfo}"
                            render=":createClientForm:model :createClientForm:couleur
                             :createClientForm:prix"/>
                    <f:validateRequired/>
                </h:inputText>
            </div>
        </div>
        <div class="form-group">
            <h:outputLabel for="model" styleClass="control-label col-sm-4">Model:</h:outputLabel>
            <div class="col-sm-4">
                <h:inputText id="model" value="#{locationBean.location.idvehicule.model.libelle}"
                             styleClass="form-control"
                             required="true" readonly="true"
                             validatorMessage="Matricule is required">
                    <f:validateRequired/>
                </h:inputText>
            </div>
        </div>
        <div class="form-group">
            <h:outputLabel for="couleur" styleClass="control-label col-sm-4">Couleur:</h:outputLabel>
            <div class="col-sm-4">
                <h:inputText id="couleur" value="#{locationBean.location.idvehicule.couleur}" styleClass="form-control"
                             required="true" readonly="true"
                             validatorMessage="Couleur is required">
                    <f:validateRequired/>
                </h:inputText>
            </div>
        </div>
        <div class="form-group">
            <h:outputLabel for="prix" styleClass="control-label col-sm-4">Prix:</h:outputLabel>
            <div class="col-sm-4">
                <h:inputText id="prix" value="#{locationBean.location.idvehicule.prixjour}" styleClass="form-control"
                             required="true" readonly="true"
                             validatorMessage="Prix is required">
                    <f:validateRequired/>
                </h:inputText>
            </div>
        </div>
        <!--CLIENT-->
        <div class="form-group">
            <h:outputLabel for="numpiece" styleClass="control-label col-sm-4">Num Piece:</h:outputLabel>
            <div class="col-sm-4">
                <h:inputText id="numpiece" value="#{locationBean.location.idclient.numpiece}" styleClass="form-control"
                             required="true"
                             validatorMessage="Matricule is required">
                    <f:ajax event="change" listener="#{locationBean.getClientInfo}"
                            render=":createClientForm:prenom :createClientForm:nom
                             :createClientForm:adresse :createClientForm:tel :createClientForm:email"
                    />
                    <f:validateRequired/>
                </h:inputText>
            </div>
        </div>
        <div class="form-group">
            <h:outputLabel for="prenom" styleClass="control-label col-sm-4">Prenom:</h:outputLabel>
            <div class="col-sm-4">
                <h:inputText id="prenom" value="#{locationBean.location.idclient.prenom}" styleClass="form-control"
                             required="true"
                             validatorMessage="Matricule is required">
                    <f:validateRequired/>
                </h:inputText>
            </div>
        </div>
        <div class="form-group">
            <h:outputLabel for="nom" styleClass="control-label col-sm-4">Nom:</h:outputLabel>
            <div class="col-sm-4">
                <h:inputText id="nom" value="#{locationBean.location.idclient.nom}" styleClass="form-control"
                             required="true"
                             validatorMessage="Matricule is required">
                    <f:validateRequired/>
                </h:inputText>
            </div>
        </div>
        <div class="form-group">
            <h:outputLabel for="adresse" styleClass="control-label col-sm-4">Adresse:</h:outputLabel>
            <div class="col-sm-4">
                <h:inputText id="adresse" value="#{locationBean.location.idclient.adresse}" styleClass="form-control"
                             required="true"
                             validatorMessage="Matricule is required">
                    <f:validateRequired/>
                </h:inputText>
            </div>
        </div>
        <div class="form-group">
            <h:outputLabel for="tel" styleClass="control-label col-sm-4">Telephone:</h:outputLabel>
            <div class="col-sm-4">
                <h:inputText id="tel" value="#{locationBean.location.idclient.tel}" styleClass="form-control"
                             required="true"
                             validatorMessage="Tel is required">
                    <f:validateRequired/>
                </h:inputText>
            </div>
        </div>
        <div class="form-group">
            <h:outputLabel for="email" styleClass="control-label col-sm-4">Email:</h:outputLabel>
            <div class="col-sm-4">
                <h:inputText id="email" value="#{locationBean.location.idclient.email}" styleClass="form-control"
                             required="true"
                             validatorMessage="Email is required">
                    <f:validateRequired/>
                </h:inputText>
            </div>
        </div>
        <!--Location-->
        <div class="form-group">
            <h:outputLabel for="date" styleClass="control-label col-sm-4">Date:</h:outputLabel>
            <div class="col-sm-4">
                <h:inputText id="date" value="#{locationBean.location.date}" styleClass="form-control"
                             required="true" readonly="true"
                             >
                    <f:convertDateTime type="date" pattern="dd-MM-yyyy" />
                </h:inputText>
            </div>
        </div>
        <div class="form-group">
            <h:outputLabel for="nbrjour" styleClass="control-label col-sm-4">Nombre de jour:</h:outputLabel>
            <div class="col-sm-4">
                <h:selectOneMenu value="#{locationBean.location.nbjour}" required="true" styleClass="form-control"
                                 id="nbrjour" valueChangeListener="#{locationBean.calculeMontant}"
                                 validatorMessage="NbreJour is required">
                    <f:validateRequired/>
                    <f:ajax event="change" listener="#{locationBean.calculeMontant}"
                            render=":createClientForm:montant"/>
                    <f:selectItem itemValue="0" itemLabel="Selectionner le nbre de jour"/>
                    <f:selectItems value="#{locationBean.nbrejour}" var="nbre" itemValue="#{nbre}"
                                   itemLabel="#{nbre}"/>
                </h:selectOneMenu>
            </div>
        </div>
        <div class="form-group">
            <h:outputLabel for="montant" styleClass="control-label col-sm-4">Montant:</h:outputLabel>
            <div class="col-sm-4">
                <h:inputText id="montant" value="#{locationBean.location.montantlocation}" styleClass="form-control"
                             readonly="true">
                    <f:validateRequired/>
                </h:inputText>
            </div>
        </div>
        <div class="form-group">
            <h:outputLabel for="comment" styleClass="control-label col-sm-4">Commentaire:</h:outputLabel>
            <div class="col-sm-4">
                <h:inputTextarea id="comment" value="#{locationBean.location.commentaire}" styleClass="form-control"
                                 required="true"
                                 validatorMessage="Commentaire is required">
                    <f:validateRequired/>
                </h:inputTextarea>
            </div>
        </div>

        <div class="form-group">
            <div class="col-sm-4">
                <div class="col-sm-1">
                    <h:commandButton value="Enregistrer" action="#{locationBean.store}"
                                     styleClass="btn btn-success btnWidth"/>
                </div>
            </div>
        </div>
    </h:form>
    <h:messages/>
</f:view>
</html>
